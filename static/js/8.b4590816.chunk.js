(this["webpackJsonppublic-apps"]=this["webpackJsonppublic-apps"]||[]).push([[8],{62:function(t,e,s){"use strict";var a=s(64),c=s.n(a);c.a.defaults.xsrfCookieName="csrftoken",c.a.defaults.xsrfHeaderName="X-CSRFToken",c.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",c.a.interceptors.request.use((function(t){return t}),(function(t){return console.error(t),Promise.reject(t)}));var i=function(t){return new Promise((function(e,s){c.a.get("".concat("https://www.karomap.com/backend","/").concat(t)).then((function(t){e(t.data)}),(function(t){s(t)}))}))},n={getBlogs:function(){return i("post/?limit=0&offset=0&type=blogs")},getDetailPost:function(t){return i("post/".concat(t,"/"))},getCategoryBlogs:function(){return i("category/")}};e.a=n},97:function(t,e,s){"use strict";s.r(e);var a=s(63),c=s(8),i=s(9),n=s(23),o=s(11),r=s(10),l=s(0),d=s.n(l),h=s(17),u=s(62),j=s(58),b=s(57),p=s(1);var g=function(t){var e=Object(l.useState)(!0),s=Object(j.a)(e,2),a=s[0],c=s[1];return Object(l.useEffect)((function(){var t=setTimeout((function(){c(!1)}),600);return function(){return clearTimeout(t)}})),Object(p.jsx)("div",{className:"hero-container",style:{backgroundImage:"url(".concat(t.data.banner,")")},children:a?Object(p.jsxs)("div",{className:"container title-heading p-justify-center",children:[Object(p.jsx)(b.a,{width:"100%",height:"30px",className:"p-mb-2 p-mt-2"}),Object(p.jsx)(b.a,{width:"100%",className:"p-mb-2 p-mt-2"}),Object(p.jsx)(b.a,{width:"100%",className:"p-mb-2 p-mt-2"})]}):Object(p.jsxs)("div",{className:"container title-heading p-text-center",children:[Object(p.jsx)("h1",{children:t.data.heading}),Object(p.jsx)("p",{children:t.data.subheading})]})})},m=s(73),v=s(93),O=s(92),x=s(15),f=s(4),N=function(t){Object(o.a)(s,t);var e=Object(r.a)(s);function s(){var t;Object(c.a)(this,s);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={results:[],basicFirst:0,basicRows:9,pageNumber:0,searchKey:"",sortKey:"",loading:!0,sortOptions:[]},t.onPageChange=function(e){t.setState({basicFirst:e.first,pageNumber:e.page});var s=Object(a.a)(t.props.data).slice(e.page*t.state.basicRows,e.page*t.state.basicRows+t.state.basicRows);t.setState({results:s}),window.scrollTo({top:0,behavior:"smooth"})},t.getSearch=function(e){var s=e.target.value;if(t.setState({searchKey:s}),""!==s){var c=Object(a.a)(t.props.data).filter((function(t){return Object.values(t).join(" ").toLowerCase().includes(s.toLowerCase())}));t.setState({results:c})}else t.setState({results:t.props.data})},t.onSortCategory=function(e){var s=e.value;if(t.setState({sortKey:s}),"all"!==s){var c=Object(a.a)(t.props.data).filter((function(t){return!!t.categories.find((function(t){return t.slug===s}))}));t.setState({results:c})}else t.setState({results:t.props.data})},t}return Object(i.a)(s,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(t){t!==this.props&&(this.updateData(),this.updateCategory(),this.setLoading())}},{key:"updateData",value:function(){var t=Object(a.a)(this.props.data).slice(this.state.pageNumber*this.state.basicRows,this.state.pageNumber*this.state.basicRows+this.state.basicRows);this.setState({results:t})}},{key:"updateCategory",value:function(){var t=this.props.categories.map((function(t){return{id:t.id,label:t.title,value:t.slug}}));this.setState({sortOptions:[].concat(Object(a.a)(t),[{id:0,label:"All Category",value:"all"}])})}},{key:"setLoading",value:function(){var t=this;setTimeout((function(){t.setState({loading:!1})}),700)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this;return Object(p.jsx)("div",{className:"main-container",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"filter-section p-grid",children:[Object(p.jsx)("div",{className:"category p-col-12 p-xl-4",children:Object(p.jsx)(m.a,{options:this.state.sortOptions,value:this.state.sortKey,placeholder:"Pilih Kategori",onChange:this.onSortCategory})}),Object(p.jsx)("div",{className:"search-container p-col-12 p-xl-4 p-xl-offset-4",children:Object(p.jsx)("div",{className:"search",children:Object(p.jsxs)("span",{className:"p-input-icon-right",children:[Object(p.jsx)("i",{className:"pi pi-search"}),Object(p.jsx)(v.a,{placeholder:"Search",id:"search",value:this.state.searchKey,onChange:this.getSearch})]})})})]}),Object(p.jsxs)("div",{className:"content-section p-pt-4",children:[this.state.loading?Object(p.jsxs)("div",{className:"p-grid",children:[Object(p.jsxs)("div",{className:"p-col p-md-6 p-xl-4 blog-box",children:[Object(p.jsx)("div",{className:"blog-cover",children:Object(p.jsx)(b.a,{width:"100%",height:"100%"})}),Object(p.jsxs)("div",{className:"blog-heading",children:[Object(p.jsx)(b.a,{width:"75%",height:"30px",className:"p-mb-2 p-mt-2"}),Object(p.jsx)(b.a,{width:"100%"})]})]}),Object(p.jsxs)("div",{className:"p-col p-md-6 p-xl-4 blog-box",children:[Object(p.jsx)("div",{className:"blog-cover",children:Object(p.jsx)(b.a,{width:"100%",height:"100%"})}),Object(p.jsxs)("div",{className:"blog-heading",children:[Object(p.jsx)(b.a,{width:"75%",height:"30px",className:"p-mb-2 p-mt-2"}),Object(p.jsx)(b.a,{width:"100%"})]})]}),Object(p.jsxs)("div",{className:"p-col p-md-6 p-xl-4 blog-box",children:[Object(p.jsx)("div",{className:"blog-cover",children:Object(p.jsx)(b.a,{width:"100%",height:"100%"})}),Object(p.jsxs)("div",{className:"blog-heading",children:[Object(p.jsx)(b.a,{width:"75%",height:"30px",className:"p-mb-2 p-mt-2"}),Object(p.jsx)(b.a,{width:"100%"})]})]})]}):Object(p.jsx)("div",{className:"p-grid",children:this.state.results.map((function(e,s){return Object(p.jsxs)("div",{className:"p-col p-md-6 p-xl-4 blog-box",children:[Object(p.jsxs)("div",{className:"blog-cover p-shadow-3",children:[Object(p.jsx)("ul",{children:e.categories.map((function(t,e){return Object(p.jsx)("li",{children:Object(p.jsx)("div",{className:"btn-label-category p-shadow-3",children:Object(p.jsx)("span",{className:"label-category",children:t.title})})},e)}))}),Object(p.jsx)(x.b,{to:"".concat(t.props.match.url,"/").concat(e.slug),children:Object(p.jsx)("img",{src:e.featured_image,alt:e.title})})]}),Object(p.jsxs)("div",{className:"blog-heading",children:[Object(p.jsx)("h1",{children:Object(p.jsx)(x.b,{to:"".concat(t.props.match.url,"/").concat(e.slug),children:e.title})}),Object(p.jsxs)("span",{className:"meta",children:[Object(p.jsx)("i",{className:"pi pi-user p-mr-2"})," ",null!=e.author.username?e.author.username:"Unknown"," |"," ",new Date(e.created_at).toDateString()]}),Object(p.jsx)("div",{className:"description",children:Object(p.jsx)("div",{className:"body",dangerouslySetInnerHTML:{__html:e.body}})})]})]},s)}))}),Object(p.jsx)("div",{className:"paginator-container",children:Object(p.jsx)(O.a,{first:this.state.basicFirst,rows:this.state.basicRows,totalRecords:this.props.totalRecords,onPageChange:this.onPageChange})})]})]})})}}]),s}(d.a.Component),w=Object(f.f)(N),y=function(t){Object(o.a)(s,t);var e=Object(r.a)(s);function s(t){var i;return Object(c.a)(this,s),(i=e.call(this,t)).state={pages:h.f[2],blogs:[],categories:[],totalRecords:0},i.getPostAPI=function(){u.a.getCategoryBlogs().then((function(t){i.setState({categories:Object(a.a)(t)})})).catch((function(t){console.error(t)})),u.a.getBlogs().then((function(t){var e=t.sort((function(t,e){return t-e})).reverse();i.setState({blogs:Object(a.a)(e),totalRecords:t.length})})).catch((function(t){console.error(t)}))},i.scrollNavigation=function(){var t=document.documentElement,e=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),s=document.getElementById("topnav");e>80?null===s||void 0===s||s.classList.add("nav-sticky"):null===s||void 0===s||s.classList.remove("nav-sticky")},i.scrollNavigation=i.scrollNavigation.bind(Object(n.a)(i)),i}return Object(i.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.scrollNavigation,!0),this.getPostAPI()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollNavigation,!0)}},{key:"render",value:function(){return Object(p.jsxs)(d.a.Fragment,{children:[Object(p.jsx)(g,{data:this.state.pages}),Object(p.jsx)(w,{data:this.state.blogs,categories:this.state.categories,totalRecords:this.state.blogs.length})]})}}]),s}(l.Component);e.default=y}}]);
//# sourceMappingURL=8.b4590816.chunk.js.map