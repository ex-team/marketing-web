(this["webpackJsonppublic-apps"]=this["webpackJsonppublic-apps"]||[]).push([[7],{62:function(t,e,a){"use strict";var s=a(63),i=a.n(s);i.a.defaults.xsrfCookieName="csrftoken",i.a.defaults.xsrfHeaderName="X-CSRFToken",i.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",i.a.interceptors.request.use((function(t){return t}),(function(t){return console.error(t),Promise.reject(t)}));var c=function(t){return new Promise((function(e,a){i.a.get("".concat("https://www.karomap.com/backend/","/").concat(t)).then((function(t){e(t.data)}),(function(t){a(t)}))}))},n={getBlogs:function(){return c("post/?limit=0&offset=0&type=blogs")},getDetailPost:function(t){return c("post/".concat(t,"/"))},getCategoryBlogs:function(){return c("category/")}};e.a=n},96:function(t,e,a){"use strict";a.r(e);var s=a(8),i=a(9),c=a(23),n=a(11),l=a(10),r=a(0),o=a.n(r),d=a(17),h=a(62),j=a(1);var u=function(t){var e=t.data;return Object(j.jsx)("div",{className:"hero-container",style:{backgroundImage:"url(".concat(e.featured_image,")")},children:Object(j.jsxs)("div",{className:"container title-heading p-text-center",children:[Object(j.jsx)("h1",{children:e.title}),Object(j.jsxs)("span",{className:"meta",children:[Object(j.jsx)("i",{className:"pi pi-calendar p-mr-2"})," ",new Date(e.created_at).toDateString()]})]})})},m=a(57),p=a(16),b=function(t){Object(n.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(s.a)(this,a);for(var i=arguments.length,c=new Array(i),n=0;n<i;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).state={data:{title:"",body:"",featured_image:"",author:{username:""}},tags:[],latest:[],loading:!0},t}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(t){t!==this.props&&(this.updateData(),this.setLoading(),this.updateLatest())}},{key:"updateData",value:function(){var t=this.props.data;this.setState({data:t,tags:t.tags})}},{key:"updateLatest",value:function(){var t=this.props.latest;this.setState({latest:t})}},{key:"setLoading",value:function(){var t=this;setTimeout((function(){t.setState({loading:!1})}),700)}},{key:"render",value:function(){var t=this;return Object(j.jsx)("div",{className:"main-container",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"content-container p-grid",children:[Object(j.jsxs)("div",{className:"left-content p-col p-lg-8",children:[this.state.loading?Object(j.jsxs)("div",{className:"heading p-mb-4",children:[Object(j.jsx)(m.a,{width:"75%",height:"30px",className:"p-mb-2 p-mt-2"}),Object(j.jsx)(m.a,{width:"50%",height:"10px"})]}):Object(j.jsxs)("div",{className:"heading p-mb-4",children:[Object(j.jsx)("h1",{children:this.state.data.title}),Object(j.jsxs)("div",{className:"meta",children:[Object(j.jsx)("i",{className:"pi pi-user p-mr-2"})," ",this.state.data.author.username," |"," ",Object(j.jsx)("i",{className:"pi pi-tags"}),Object(j.jsx)("ul",{children:this.state.tags.map((function(t,e){return Object(j.jsxs)("li",{className:"tags",children:[t.title,","]},e)}))})]})]}),Object(j.jsx)("div",{className:"featured-image",children:this.state.loading?Object(j.jsx)(m.a,{width:"100%",height:"100%"}):Object(j.jsx)("img",{src:this.state.data.featured_image,alt:this.state.data.title})}),this.state.loading?Object(j.jsx)(m.a,{width:"100%"}):Object(j.jsx)("p",{className:"p-text-justify",dangerouslySetInnerHTML:{__html:this.state.data.body}})]}),Object(j.jsxs)("div",{className:"right-content p-col p-lg-4",children:[Object(j.jsx)("h5",{children:"Recent Blogs"}),Object(j.jsx)("div",{className:"custom-skeleton p-pt-4",children:Object(j.jsx)("ul",{className:"p-m-0 p-p-0",children:this.state.latest.slice(0,5).map((function(e,a){return t.state.loading?Object(j.jsx)("li",{className:"p-mb-3",children:Object(j.jsxs)("div",{className:"p-d-flex",children:[Object(j.jsx)(m.a,{shape:"circle",size:"4rem",className:"p-mr-2"}),Object(j.jsxs)("div",{style:{flex:"1"},children:[Object(j.jsx)(m.a,{width:"100%",className:"p-mb-2"}),Object(j.jsx)(m.a,{width:"75%"})]})]})},a):Object(j.jsx)("li",{className:"p-mb-3",children:Object(j.jsxs)("div",{className:"p-d-flex blogs",children:[Object(j.jsx)("div",{className:"thumbnail-blog p-shadow-3",children:Object(j.jsx)("img",{src:e.images,alt:e.title})}),Object(j.jsxs)("div",{className:"heading-blogs",style:{flex:"1"},children:[Object(j.jsx)("h1",{children:Object(j.jsx)(p.b,{to:e.slug,children:e.title})}),Object(j.jsx)("p",{children:e.description.length>100?e.description.slice(0,100)+",":e.description})]})]})},a)}))})})]})]})})})}}]),a}(o.a.Component),g=function(t){Object(n.a)(a,t);var e=Object(l.a)(a);function a(t){var i;return Object(s.a)(this,a),(i=e.call(this,t)).params=void 0,i.state={blog:{},latest:d.b},i.scrollNavigation=function(){var t=document.documentElement,e=(window.pageYOffset||t.scrollTop)-(t.clientTop||0),a=document.getElementById("topnav");e>80?null===a||void 0===a||a.classList.add("nav-sticky"):null===a||void 0===a||a.classList.remove("nav-sticky")},i.scrollNavigation=i.scrollNavigation.bind(Object(c.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getData(),window.addEventListener("scroll",this.scrollNavigation,!0)}},{key:"componentDidUpdate",value:function(t){t.history.location.pathname!==this.params.match.url&&this.getData()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollNavigation,!0)}},{key:"getData",value:function(){var t=this;this.params=this.props;var e=this.params.match.params.slug;this.params.match&&e&&h.a.getDetailPost(e).then((function(e){t.setState({blog:e})}))}},{key:"render",value:function(){return Object(j.jsxs)(o.a.Fragment,{children:[Object(j.jsx)(u,{data:this.state.blog}),Object(j.jsx)(b,{data:this.state.blog,latest:this.state.latest})]})}}]),a}(r.Component);e.default=g}}]);
//# sourceMappingURL=7.bf54f102.chunk.js.map